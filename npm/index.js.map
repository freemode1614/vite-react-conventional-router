{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":";;;AAGA,IAAM,WAAc,GAAA,2BAAA,CAAA;AAML,SAAR,mBAAoC,OAAoD,EAAA;AAC7F,EAAA,IAAI,CAAC,OAAS,EAAA;AACZ,IAAU,OAAA,GAAA,EAAE,KAAO,EAAA,EAAG,EAAA,CAAA;AAAA,GACxB;AAEA,EAAA,IAAI,EAAE,KAAA,GAAQ,EAAC,EAAM,GAAA,OAAA,CAAA;AAErB,EAAA,IAAI,CAAC,KAAA,CAAM,OAAQ,CAAA,KAAK,CAAG,EAAA;AACzB,IAAA,KAAA,GAAQ,CAAC,KAAK,CAAA,CAAA;AAAA,GAChB;AAEA,EAAA,MAAM,UAAU,EAAG,CAAA,IAAA,CAAK,OAAO,EAAE,IAAA,EAAM,UAAU,eAAiB,EAAA,IAAA,EAAM,CAAE,CAAA,IAAA,CAAK,CAAC,CAAG,EAAA,CAAA,KAAM,EAAE,aAAc,CAAA,CAAA,EAAG,IAAI,CAAC,CAAA,CAAA;AAEjH,EAAQ,OAAA,CAAA,GAAA,CAAI,WAAW,OAAO,CAAA,CAAA;AAE9B,EAAO,OAAA;AAAA,IACL,IAAM,EAAA,WAAA;AAAA,IACN,UAAY,EAAA;AAAA,MACV,KAAO,EAAA,KAAA;AAAA,MACP,OAAU,GAAA;AAAA,OAEV;AAAA,KACF;AAAA,IACA,IAAO,GAAA;AAAA,KAEP;AAAA,GACF,CAAA;AACF","file":"index.js","sourcesContent":["import fg, { Pattern } from \"fast-glob\";\nimport type { Plugin } from \"vite\";\n\nconst PLUGIN_NAME = \"react-conventional-router\";\n\ntype ConventionalRouterProps = {\n  pages: Pattern | Pattern[];\n};\n\nexport default function ConventionalRouter(options?: Partial<ConventionalRouterProps>): Plugin {\n  if (!options) {\n    options = { pages: [] };\n  }\n\n  let { pages = [] } = options;\n\n  if (!Array.isArray(pages)) {\n    pages = [pages];\n  }\n\n  const folders = fg.sync(pages, { deep: Infinity, markDirectories: true }).sort((a, b) => b.localeCompare(a, \"en\"));\n\n  console.log(\"folders\", folders);\n\n  return {\n    name: PLUGIN_NAME,\n    buildStart: {\n      order: \"pre\",\n      handler() {\n        // this.info(`${PLUGIN_NAME}-> buildStart`);\n      },\n    },\n    load() {\n      // console.log(id);\n    },\n  };\n}\n"]}